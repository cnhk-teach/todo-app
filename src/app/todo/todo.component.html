<main @fadein>
    <div class="container">
        <div class="header">
            <h1>Todo App ‚úÖ</h1>
            <button class="logout" (click)="logout()">
                <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="#e8eaed"><path d="M186.67-120q-27 0-46.84-19.83Q120-159.67 120-186.67v-586.66q0-27 19.83-46.84Q159.67-840 186.67-840h292.66v66.67H186.67v586.66h292.66V-120H186.67Zm470.66-176.67-47-48 102-102H360v-66.66h351l-102-102 47-48 184 184-182.67 182.66Z"/></svg>
            </button>
        </div>
        <div class="todo-done">
            <div>
                <h1>Todo Done</h1>
                <p>Keep it up!</p>
            </div>
            <div class="done-count">
                {{ completedTodo }} / {{ todos.length }}
            </div>
        </div>
        <div class="new-todo">
            <input type="text" [(ngModel)]="task" placeholder="Please enter your new task">
            <svg xmlns="http://www.w3.org/2000/svg" height="40px" viewBox="0 -960 960 960" width="40px" fill="black" (click)="add()"><path d="M446.67-446.67H200v-66.66h246.67V-760h66.66v246.67H760v66.66H513.33V-200h-66.66v-246.67Z"/></svg>
        </div>
        <h1>Todo items</h1>
        <div class="todo-list">
            <div class="todo-item" [ngClass]= "{'done': todo.completedAt != null}" *ngFor="let todo of todos">
                {{todo.task}}

                <pre>Start Date: {{todo.createdAt | date:'yyyy-MM-dd HH:mm'}}</pre>
                <pre>Completed Date: {{todo.completedAt | date:'yyyy-MM-dd HH:mm' || 'Not completed'}}</pre>
                <button [ngClass]= "{'update-button': todo.completedAt == null}" (click)="update(todo._id)">Revoke</button>
                <button class="delete-button" (click)="delete(todo._id)">Delete</button>
                <button class="done-button" (click)="complete(todo._id)">Done</button>
            </div>
            <div [ngClass]= "{'empty': todos.length == 0}" *ngIf="todos.length == 0">
                Please Add your first todo item !!! ü§©üèÅ
            </div>
        </div>
        <div class="progress" *ngIf="isProgress">
            <div class="circle"></div>
            <div class="circle"></div>
          </div>
    </div>
</main>
